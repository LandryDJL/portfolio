const projects = [
  {
    index: 0,
    title: "Rafting Website Project",
    cardClass: "WD school",
    link: "https://landrydjl.github.io/WDD-130/wwr/index.html",
    description:
      "This project was to test our understanding of the course material and our knowledge in building basic website for a rafting company, allowing users to book trips online. Built with HTML and CSS.",
    imageSource: "assets/images/rafting.jpg",
  },
  {
    index: 1,
    title: "Filtered temples",
    cardClass: "WD school",
    link: "https://landrydjl.github.io/wdd131/filtered-temples.html",
    description:
      "This project was to test our understanding of the course material and our knowledge in building basic web page, allowing users to apply some filters on elements that are displayed. Built with HTML, CSS and JavaScript.",
    imageSource: "assets/images/filtered-temples.jpg",
  },
  {
    index: 2,
    title: "Currency Converter",
    cardClass: "WD school",
    link: "https://landrydjl.github.io/cse121b/project.html",
    description:
      "This project was to test our understanding of the course material and our knowledge in building basic web page and implementing an API, allowing users to convertion between two currencies. Built with HTML, CSS and JavaScript.",
    imageSource: "assets/images/cur_converter.jpg",
  },
  {
    index: 3,
    title: "Review form",
    cardClass: "WD school",
    link: "https://landrydjl.github.io/wdd131/form",
    description:
      "This project was to test our understanding of the course material and our knowledge in building basic review form, allowing users to bring a review about a product. Built with HTML and CSS.",
    imageSource: "assets/images/form.jpg",
  },
  {
    index: 4,
    title: "Country Info Webpage",
    cardClass: "WD school",
    link: "https://landrydjl.github.io/wdd131/place",
    description:
      "This project was to test our understanding of the course material and our knowledge in building basic web page, displaying information about Cote d'Ivoire. Built with HTML and CSS.",
    imageSource: "assets/images/website.jpg",
  },
  {
    index: 5,
    title: "Give someone a smile",
    cardClass: "GD friend",
    link: "#",
    description:
      "This project was to test our understanding of the course material and our knowledge about functions, arrays and selection structure, allowing users to make some basic operations. Built with HTML, CSS and JavaScript.",
    imageSource: "assets/images/gsas.jpg",
  },
  {
    index: 6,
    title: "Hire a VA flyer",
    cardClass: "GD friend",
    link: "#",
    description:
      "This project was to test our understanding of the course material and our knowledge about functions, arrays and selection structure, allowing users to make some basic operations. Built with HTML, CSS and JavaScript.",
    imageSource: "assets/images/elevate flyer (3).jpg",
  },
  {
    index: 7,
    title: "Hire a VA flyer",
    cardClass: "GD friend",
    link: "#",
    description:
      "This project was to test our understanding of the course material and our knowledge about functions, arrays and selection structure, allowing users to make some basic operations. Built with HTML, CSS and JavaScript.",
    imageSource: "assets/images/elevate flyer (4).jpg",
  },
  {
    index: 8,
    title: "Hire a VA flyer",
    cardClass: "GD friend",
    link: "#",
    description:
      "This project was to test our understanding of the course material and our knowledge about functions, arrays and selection structure, allowing users to make some basic operations. Built with HTML, CSS and JavaScript.",
    imageSource: "assets/images/elevate flyer (5).jpg",
  },
  {
    index: 9,
    title: "Citation of honour",
    cardClass: "GD client",
    link: "#",
    description:
      "A citation of honour made for a client, when I was working at Sweet Aroma Print(Ghana).",
    imageSource: "assets/images/citation Agboado Delight.png",
  },
  {
    index: 10,
    title: "Citation of honour",
    cardClass: "GD client",
    link: "#",
    description:
      "A citation of honour made for a client, when I was working at Sweet Aroma Print(Ghana).",
    imageSource: "assets/images/citaions Gh Health.png",
  },
  {
    index: 11,
    title: "Welfare Card book cover",
    cardClass: "GD client",
    link: "#",
    description:
      "A book cover made for a client, when I was working at Sweet Aroma Print(Ghana).",
    imageSource: "assets/images/welfare card.png",
  },
  {
    index: 12,
    title: "ATUAS book cover",
    cardClass: "GD client",
    link: "#",
    description:
      "A book cover made for a client, when I was working at Sweet Aroma Print(Ghana).",
    imageSource: "assets/images/ATUAS book cover.jpg",
  },

  {
    index: 13,
    title: "Inside Book ATUAS",
    cardClass: "GD client",
    link: "#",
    description:
      "The inside ATUAS book  made for a client, when I was working at Sweet Aroma Print(Ghana).",
    imageSource: "assets/images/Inside Book ATUAS.png",
  },
  {
    index: 14,
    title: "ATUAS calendar",
    cardClass: "GD client",
    link: "#",
    description:
      "a calendar made for a client, when I was working at Sweet Aroma Print(Ghana).",
    imageSource: "assets/images/calendar ATUS.png",
  },
  {
    index: 15,
    title: "Celebration Plaque design",
    cardClass: "GD client",
    link: "#",
    description:
      "an award palque for a client, when I was working at Sweet Aroma Print(Ghana).",
    imageSource: "assets/images/DANNICE AND EUNICE.jpg",
  },
  {
    index: 16,
    title: "Celebration Plaque design",
    cardClass: "GD client",
    link: "#",
    description:
      "an award palque for a client, when I was working at Sweet Aroma Print(Ghana).",
    imageSource: "assets/images/plaq Rev.png",
  },
  {
    index: 17,
    title: "Award Plaque design",
    cardClass: "GD client",
    link: "#",
    description:
      "an award palque for a client, when I was working at Sweet Aroma Print(Ghana).",
    imageSource: "assets/images/Ministry of Lands and Natural Resources.jpg",
  },
  {
    index: 18,
    title: "TCP Award Plaque design",
    cardClass: "GD client",
    link: "#",
    description:
      "an award palque for a client, when I was working at Sweet Aroma Print(Ghana).",
    imageSource: "assets/images/TPC.png",
  },
  {
    index: 19,
    title: "VORSA Award Plaque design",
    cardClass: "GD client",
    link: "#",
    description:
      "an award palque for a client, when I was working at Sweet Aroma Print(Ghana).",
    imageSource: "assets/images/VORSA PLAQUES.jpg",
  },
  {
    index: 20,
    title: "Home Builders Award Plaque design",
    cardClass: "GD client",
    link: "#",
    description:
      "an award palque for a client, when I was working at Sweet Aroma Print(Ghana).",
    imageSource: "assets/images/Home Builders Plaq.png",
  },
  {
    index: 21,
    title: "Invitation card",
    cardClass: "GD client",
    link: "#",
    description:
      "an award palque for a client, when I was working at Sweet Aroma Print(Ghana).",
    imageSource: "assets/images/Invitation card.jpg",
  },
  {
    index: 22,
    title: "Shea Label",
    cardClass: "GD client",
    link: "#",
    description:
      "an award palque for a client, when I was working at Sweet Aroma Print(Ghana).",
    imageSource: "assets/images/shea Label.png",
  },
  {
    index: 23,
    title: "Shea Circle Label",
    cardClass: "GD client",
    link: "#",
    description:
      "an award palque for a client, when I was working at Sweet Aroma Print(Ghana).",
    imageSource: "assets/images/Shea Circle Label.jpg",
  },
  {
    index: 24,
    title: "Shea Thank You Card",
    cardClass: "GD client",
    link: "#",
    description:
      "an award palque for a client, when I was working at Sweet Aroma Print(Ghana).",
    imageSource: "assets/images/Shea thk card.jpg",
  },
  {
    index: 25,
    title: "Freshy",
    cardClass: "GD client",
    link: "#",
    description:
      "Logo made for a friend, when I was working at Sweet Aroma Print(Ghana).",
    imageSource: "assets/images/freshy.png",
  },
];

document.addEventListener("DOMContentLoaded", () => {
  const sectionProjects = document.querySelector("#projects");
  function callBackFunction(entries) {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        const sectionTitle = entry.target.querySelector(".section-title");
        if (sectionTitle) {
          sectionTitle.classList.add("fadeInTop");
          sectionTitle.style.opacity = "1";
        }
      }
    });
  }
  const options = {
    rootMargin: "0px",
    threshold: 0.1,
  };
  const observer = new IntersectionObserver(callBackFunction, options);
  observer.observe(sectionProjects);

  function createProjectCard(projectsFiltered) {
    const projectsBlockContainer = document.querySelector(".projects-grid");
    projectsBlockContainer.innerHTML = "";

    projectsFiltered.forEach((project) => {
      const card = document.createElement("a");
      const imgContainer = document.createElement("div");
      const img = document.createElement("img");
      const detailProjectCardContainer = document.createElement("div");
      const titleProjectCard = document.createElement("div");
      const descriptionProjectCard = document.createElement("div");

      card.setAttribute("href", project.link);
      card.setAttribute("target", "_blank");
      card.setAttribute("class", `${project.cardClass}`);
      imgContainer.classList.add("image-project-card");
      img.setAttribute("src", project.imageSource);
      img.setAttribute("alt", `image of ${project.title}`);
      img.setAttribute("loading", "lazy");
      detailProjectCardContainer.classList.add("detail-project-card");
      titleProjectCard.classList.add("title-project");
      titleProjectCard.innerHTML = project.title;
      descriptionProjectCard.classList.add("description-project");
      descriptionProjectCard.innerHTML = project.description;

      card.style.opacity = "0";
      card.style.display = "grid";
      card.style.position = "relative";
      card.style.gridTemplateRows = "1fr";
      card.style.alignItems = "start";
      card.style.padding = "0.5rem";
      card.style.overflow = "hidden";

      img.style.transition = "0.5s ease-in-out";
      img.style.width = "100%";
      img.style.margin = "0 auto";
      img.style.objectFit = "cover";

      detailProjectCardContainer.style.gridArea = "1/1/2/2";
      detailProjectCardContainer.style.gridTemplateRows = "0px";
      detailProjectCardContainer.style.position = "absolute";
      detailProjectCardContainer.style.bottom = "0";
      detailProjectCardContainer.style.width = "100%";
      detailProjectCardContainer.style.opacity = "0";
      detailProjectCardContainer.style.zIndex = "1";
      detailProjectCardContainer.style.transition = "0.3s ease-in-out";
      detailProjectCardContainer.style.backgroundImage =
        "linear-gradient(rgba(26,26,26,0.5), rgba(26,26,26,1))";

      titleProjectCard.style.padding = "1rem 0.5rem";
      titleProjectCard.style.color = "#f3f3f3";
      titleProjectCard.style.zIndex = "2";

      card.addEventListener("mouseover", () => {
        detailProjectCardContainer.style.gridTemplateRows = "-200px";
        detailProjectCardContainer.style.opacity = "1";
      });
      card.addEventListener("mouseout", () => {
        detailProjectCardContainer.style.opacity = "0";
        detailProjectCardContainer.style.gridTemplate = "0px";
      });
      card.addEventListener("click", () => {
        modalContainer.classList.add("show-modal");
      });

      imgContainer.style.gridArea = "1/1/2/2";
      imgContainer.style.overflow = "hidden";
      imgContainer.style.zIndex = "0";
      descriptionProjectCard.style.display = "none";
      descriptionProjectCard.style.height = "0px";

      card.appendChild(imgContainer);
      card.appendChild(detailProjectCardContainer);
      imgContainer.appendChild(img);
      detailProjectCardContainer.appendChild(titleProjectCard);
      detailProjectCardContainer.appendChild(descriptionProjectCard);

      projectsBlockContainer.appendChild(card);

      function callBackFunction1(entries) {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            card.classList.add("fadeInTop");
            card.style.opacity = "1";
          }
        });
      }
      const options1 = {
        rootMargin: "0px",
        threshold: 1,
      };

      const observer1 = new IntersectionObserver(callBackFunction1, options1);
      observer1.observe(card);
    });

    const selectElement = document.getElementById("selector");
    selectElement.addEventListener("change", () => {
      let filteredProjects = projects;
      if (selectElement.value === "1") {
        filteredProjects = projects.filter((param) =>
          param.cardClass.includes("GD")
        );
      } else if (selectElement.value === "2") {
        filteredProjects = projects.filter((param) =>
          param.cardClass.includes("WD")
        );
      }
      createProjectCard(filteredProjects);
    });
  }
  createProjectCard(projects);
});
